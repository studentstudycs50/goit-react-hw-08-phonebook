(this["webpackJsonphw-08react"]=this["webpackJsonphw-08react"]||[]).push([[1],{87:function(n,t,e){"use strict";e.r(t);var a,i,r=e(0),c=e.n(r),o=e(15),l=e(97),s=e(5),u=e(1),d=e(91),b=e(23),p=e(24),f=p.a.div(a||(a=Object(b.a)(["\n.title-form\n{\ndisplay: flex;\n    flex-direction: column;\n    font-weight: 500;\n    font-size: 18px;\n    line-height: 1.63;\n    color: black;\n    margin-bottom: 20px;\n}\n.input-form{\n    font-weight: 400;\n    font-size: 16px;\n    line-height: 1.63;\n    color: black;\n    width: 400px;\n    border: 1px solid #696969;\n    border-radius: 4px;\n    padding: 10px 15px;\n    margin-top: 5px;\n}\n.button{\ndisplay: inline-block;\n    font-weight: 500;\n    font-size: 15px;\n    line-height: 1.63;\n    color: white;\n    width: 100px;\n    padding: 7px 10px;\n    background-color: blue;\n    cursor: pointer;\n    border: none;\n    border-radius: 4px;\n    outline: none;\n}\n.button:hover{\n    color: #fff;\n    background-color: black;\n    box-shadow: 7px 7px 12px 3px rgba(0, 0, 0, 0.42);\n    transition: 500ms cubic-bezier(0.4, 0, 0.2, 1);\n}\n"]))),m=e(94),h=e(27),x=function(n){return n.form.contacts},j=function(n){return n.form.filter},O=Object(h.a)([x,j],(function(n,t){return n.filter((function(n){return n.name.toLowerCase().includes(t.toLowerCase())}))})),v=e(20),g=e.n(v),w=e(28),y=e(32),k=e.n(y),E=e(10),N=e(2),_={name:"",number:""},C=function(){var n=Object(o.b)(),t=Object(o.c)(x),e=Object(r.useState)(Object(u.a)({},_)),a=Object(d.a)(e,2),i=a[0],c=a[1],b=Object(r.useState)(""),p=Object(d.a)(b,2),h=p[0],j=p[1],O=Object(r.useState)(!1),v=Object(d.a)(O,2),y=v[0],C=v[1],X=function(n){var t=n.target,e=t.name,a=t.value;c((function(n){return Object(u.a)(Object(u.a)({},n),{},Object(s.a)({},e,a))}))},z=function(n){j(n),C(!0),setTimeout((function(){C(!1)}),2e3),setTimeout((function(){j("")}),2500)};return Object(N.jsxs)(f,{children:[Object(N.jsx)(l.a,{in:y,timeout:250,classNames:"notification",unmountOnExit:!0,children:Object(N.jsx)(m.a,{notification:h})}),Object(N.jsxs)("form",{className:"contForm",onSubmit:function(e){return e.preventDefault(),t.some((function(n){return n.name===i.name}))?(z("".concat(i.name," is already in contacts")),void c(Object(u.a)({},_))):t.some((function(n){return n.number===i.number}))?(z("Contact with number ".concat(i.number," is already in contacts")),void c(Object(u.a)({},_))):i.name.length?i.number.length?(n((a=i,function(){var n=Object(w.a)(g.a.mark((function n(t,e){var i,r,c;return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t(Object(E.b)()),i=e().auth.localId,r=e().auth.idToken,console.log(i),console.log(r),n.prev=5,n.next=8,k.a.post("".concat("https://hw-08-4d6c9-default-rtdb.firebaseio.com","/").concat(i,"/contacts.json?auth=").concat(r),a);case 8:c=n.sent,t(Object(E.c)(Object(u.a)(Object(u.a)({},a),{},{id:c.data.name}))),n.next=15;break;case 12:n.prev=12,n.t0=n.catch(5),t(Object(E.a)(n.t0));case 15:case"end":return n.stop()}}),n,null,[[5,12]])})));return function(t,e){return n.apply(this,arguments)}}())),void c(Object(u.a)({},_))):(z("Please, enter a number"),void c(Object(u.a)({},_))):(z("Please, enter a name"),void c(Object(u.a)({},_)));var a},children:[Object(N.jsxs)("label",{className:"title-form",children:["Name",Object(N.jsx)("input",{type:"text",value:i.name,name:"name",onChange:X,className:"input-form"})]}),Object(N.jsxs)("label",{className:"title-form",children:["Number",Object(N.jsx)("input",{type:"text",value:i.number,name:"number",onChange:X,className:"input-form"})]}),Object(N.jsx)("button",{type:"submit",className:"button",children:"Add contact"})]})]})},X=p.a.div(i||(i=Object(b.a)(["\nposition: relative;\n.filter-title{\n    display: flex;\n    flex-direction: column;\n    font-weight: 500;\n    font-size: 18px;\n    line-height: 1.63;\n    color: black;\n}\n.filter-input{\n    font-weight: 400;\n    font-size: 16px;\n    line-height: 1.63;\n    color: black;\n    width: 400px;\n    border: 1px solid #696969;\n    border-radius: 4px;\n    padding: 5px 15px;\n    margin-top: 5px;\n}\n"]))),z=function(){var n=Object(o.b)(),t=Object(o.c)(j);return Object(N.jsx)(X,{children:Object(N.jsxs)("label",{className:"filter-title",children:["Find contact by name",Object(N.jsx)("input",{type:"text",name:"filter",value:t,placeholder:"Start writing name",onChange:function(t){var e=t.target.value;n(Object(E.j)(e))},className:"filter-input"})]})})},S=e(9),F=e(4);var P=e(12),V=(e(21),e(95));function L(n,t){var e=Object.create(null);return n&&r.Children.map(n,(function(n){return n})).forEach((function(n){e[n.key]=function(n){return t&&Object(r.isValidElement)(n)?t(n):n}(n)})),e}function T(n,t,e){return null!=e[t]?e[t]:n.props[t]}function D(n,t,e){var a=L(n.children),i=function(n,t){function e(e){return e in t?t[e]:n[e]}n=n||{},t=t||{};var a,i=Object.create(null),r=[];for(var c in n)c in t?r.length&&(i[c]=r,r=[]):r.push(c);var o={};for(var l in t){if(i[l])for(a=0;a<i[l].length;a++){var s=i[l][a];o[i[l][a]]=e(s)}o[l]=e(l)}for(a=0;a<r.length;a++)o[r[a]]=e(r[a]);return o}(t,a);return Object.keys(i).forEach((function(c){var o=i[c];if(Object(r.isValidElement)(o)){var l=c in t,s=c in a,u=t[c],d=Object(r.isValidElement)(u)&&!u.props.in;!s||l&&!d?s||!l||d?s&&l&&Object(r.isValidElement)(u)&&(i[c]=Object(r.cloneElement)(o,{onExited:e.bind(null,o),in:u.props.in,exit:T(o,"exit",n),enter:T(o,"enter",n)})):i[c]=Object(r.cloneElement)(o,{in:!1}):i[c]=Object(r.cloneElement)(o,{onExited:e.bind(null,o),in:!0,exit:T(o,"exit",n),enter:T(o,"enter",n)})}})),i}var R=Object.values||function(n){return Object.keys(n).map((function(t){return n[t]}))},I=function(n){function t(t,e){var a,i=(a=n.call(this,t,e)||this).handleExited.bind(function(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(a));return a.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},a}Object(P.a)(t,n);var e=t.prototype;return e.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},e.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(n,t){var e,a,i=t.children,c=t.handleExited;return{children:t.firstRender?(e=n,a=c,L(e.children,(function(n){return Object(r.cloneElement)(n,{onExited:a.bind(null,n),in:!0,appear:T(n,"appear",e),enter:T(n,"enter",e),exit:T(n,"exit",e)})}))):D(n,i,c),firstRender:!1}},e.handleExited=function(n,t){var e=L(this.props.children);n.key in e||(n.props.onExited&&n.props.onExited(t),this.mounted&&this.setState((function(t){var e=Object(F.a)({},t.children);return delete e[n.key],{children:e}})))},e.render=function(){var n=this.props,t=n.component,e=n.childFactory,a=Object(S.a)(n,["component","childFactory"]),i=this.state.contextValue,r=R(this.state.children).map(e);return delete a.appear,delete a.enter,delete a.exit,null===t?c.a.createElement(V.a.Provider,{value:i},r):c.a.createElement(V.a.Provider,{value:i},c.a.createElement(t,a,r))},t}(c.a.Component);I.propTypes={},I.defaultProps={component:"div",childFactory:function(n){return n}};var M,Y,J=I,A=function(n){var t=n.contact,e=Object(o.b)(),a=Object(o.c)(O),i=Object(o.c)(j);return Object(N.jsx)(N.Fragment,{children:Object(N.jsxs)("li",{className:"contact-list__item",children:[Object(N.jsxs)("div",{className:"contact-list__item-info",children:[Object(N.jsxs)("span",{className:"contact-list__item-name",children:[t.name,":"]}),Object(N.jsx)("span",{className:"contact-list__item-number",children:t.number})]}),Object(N.jsx)("button",{type:"button","data-id":t.id,onClick:function(n){var t=n.target.dataset.id;e(function(n){return function(t,e){t(Object(E.e)());var a=e().auth.localId,i=e().auth.idToken;try{k.a.delete("".concat("https://hw-08-4d6c9-default-rtdb.firebaseio.com","/").concat(a,"/contacts/").concat(n,".json?auth=").concat(i)).then((function(){return t(Object(E.f)(n))}))}catch(r){t(Object(E.d)(r))}}}(t)),a.filter((function(n){return n.name.toLowerCase().includes(i.toLowerCase())})).length<2&&e(Object(E.j)(""))},className:"contact-list__item-btn",children:"Delete"})]},t.id)})},B=p.a.div(M||(M=Object(b.a)(["\n.contact{\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n}\n.contact-list__item {\n    display: flex;\n    border: 1px solid black;\n    border-radius: 4px;\n    margin-bottom: 5px;\n    padding: 10px 15px;\n    color: black;\n  }\n  .contact-list-item-enter {\n    opacity: 0;\n    transform: translateX(-100%);\n  }\n  .contact-list-item-enter-active {\n    opacity: 1;\n    transform: translateX(0);\n    transition: all 250ms;\n  }\n  .contact-list-item-exit {\n    opacity: 1;\n    transform: translateX(0);\n  }\n  .contact-list-item-exit-active {\n    opacity: 0;\n    transform: translateX(-100%);\n    transition: all 250ms;\n  }\n  .contact-list__item-ifo {\n    width: 320px;\n  }\n  .contact-list__item-name {\n    margin-right: 15px;\n  }\n  .contact-list__item-number {\n    margin-right: 15px;\n  }\n  .contact-list__item-btn {\n    display: inline-block;\n    font-weight: 500;\n    font-size: 15px;\n    line-height: 1.63;\n    color: white;\n    width: 70px;\n    padding: 2px 10px;\n    background-color: red;\n    cursor: pointer;\n    border: none;\n    border-radius: 4px;\n    outline: none;\n    margin-left: 10px;\n  }\n  .contact-list__item-btn:hover {\n    color: #fff;\n    background-color: red;\n    box-shadow: 7px 7px 12px 3px rgba(0, 0, 0, 0.42);\n    transition: 500ms cubic-bezier(0.4, 0, 0.2, 1);\n  }\n"]))),U=function(){var n=Object(o.b)(),t=Object(o.c)(O),e=Object(o.c)(j);return Object(r.useEffect)((function(){n(function(){var n=Object(w.a)(g.a.mark((function n(t,e){var a,i,r,c;return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t(Object(E.h)()),a=e().auth.localId,i=e().auth.idToken,n.prev=3,n.next=6,k.a.get("".concat("https://hw-08-4d6c9-default-rtdb.firebaseio.com","/").concat(a,"/contacts.json?auth=").concat(i));case 6:r=n.sent,c=r.data?Object.keys(r.data).map((function(n){return Object(u.a)(Object(u.a)({},r.data[n]),{},{id:n})})):[],t(Object(E.i)(c)),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(3),t(Object(E.g)(n.t0));case 14:case"end":return n.stop()}}),n,null,[[3,11]])})));return function(t,e){return n.apply(this,arguments)}}())}),[]),Object(N.jsx)(B,{children:Object(N.jsx)(J,{component:"ul",className:"contact-list",children:t.filter((function(n){return n.name.toLowerCase().includes(e.toLowerCase())})).map((function(n){return Object(N.jsx)(l.a,{timeout:250,classNames:"my-contact-list-item",children:Object(N.jsx)(A,{contact:n})},n.id)}))})})},W=p.a.div(Y||(Y=Object(b.a)(["\ndisplay: flex;\n  flex-direction: column;\n  position: relative;\n  overflow: hidden;\n  padding: 50px;\n  width: 432px;\n  background-color: white;\n  border-radius: 4px;\n  margin: 0 auto;\n  box-shadow: 7px 5px 7px 5px rgba(140, 140, 140, 0.75);\n.phonebook-appear{\n    opacity: 0;\n    transform: translateX(-100%);\n}\n.phonebook-appear-active{\n    opacity: 1;\n    transform: translateX(0);\n    transition: all 500ms linear;\n}\n.phbook-title{\n    font-weight: 700;\n    font-size: 25px;\n    line-height: 1.63;\n    color: blue;\n    overflow: hidden;\n    margin-bottom: 20px;\n}\n.contacts-title{\n    text-align: center;\n    font-weight: 700;\n    font-size: 25px;\n    line-height: 1.63;\n    color: blue;\n    margin-bottom: 20px;\n}\n .notification-enter {\n    opacity: 0;\n    transform: translateX(100%);\n  }\n  .notification-enter-active {\n    opacity: 1;\n    transform: translateX(0);\n    transition: all 250ms;\n  }\n  .notification-exit {\n    opacity: 1;\n    transform: translateX(0);\n  }\n  .notification-exit-active {\n    opacity: 0;\n    transform: translateX(100%);\n    transition: all 250ms;\n  }\n  .filter-enter {\n    opacity: 0;\n    transform: translateX(-100%) translateY(-100%);\n  }\n  .filter-enter-active {\n    opacity: 1;\n    transform: translateX(0) translateY(0);\n    transition: all 250ms linear;\n  }\n  .my-filter-exit {\n    opacity: 1;\n  }\n  .filter-exit-active {\n    opacity: 0;\n    transform: translateX(100%) translateY(-100%);\n    transition: all 250ms linear;\n  }\n  "])));t.default=function(){var n=Object(o.c)(x);return Object(N.jsxs)(W,{children:[Object(N.jsx)(l.a,{in:!0,timeout:500,appear:!0,classNames:"phonebook",children:Object(N.jsx)("h2",{className:"phbook-title",children:"PhoneBook"})}),Object(N.jsx)(C,{}),Object(N.jsx)("h2",{className:"contacts-title",children:"Contacts"}),Object(N.jsx)(l.a,{in:n.length>1,timeout:250,appear:!0,classNames:"filter",unmountOnExit:!0,children:Object(N.jsx)(z,{})}),Object(N.jsx)(U,{})]})}},94:function(n,t,e){"use strict";e(0);var a,i=e(23),r=e(24).a.div(a||(a=Object(i.a)(["\n  position: absolute;\n  top: 45px;\n  right: 45px;\n  max-width: 300px;\n  background-color: red;\n  border-radius: 4px;\n  padding: 10px 15px;\n  .notification-title {\n    text-align: center;\n    font-weight: 400;\n    font-size: 18px;\n    line-height: 1.63;\n    color: #ffffff;\n  }\n"]))),c=e(2);t.a=function(n){var t=n.notification;return Object(c.jsx)(r,{children:Object(c.jsx)("p",{className:"notification-title",children:t})})}}}]);
//# sourceMappingURL=ContactsPage.7c280ae8.chunk.js.map